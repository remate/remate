define("base/utils",["jquery","amaze","underscore"],function(b,c,d){var e={api:{logout:function(a,b){var c=this;$.ajax({url:host+"/logout",type:"POST",dataType:"json",success:function(a){a.errorCode==200?($(window).off("beforeunload.pro"),e.tool.goLogin(1)):b&&b(a.moreInfo)},error:function(a){b&&b("服务器暂时没有相应，请稍后重试...")}})},move:function(a,b){var c=this;$.ajax({url:host+"/shop/movestart",type:"POST",dataType:"json",success:function(c){c.errorCode==200?a&&a(c):b&&b(c.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():b&&b("服务器暂时没有相应，请稍后重试...")}})},moveAgain:function(a,b,c){var d=this;$.ajax({url:host+"/shop/step5",data:{shopUrl:a.shopUrl,option:a.option},type:"POST",dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},checkMoveCode:function(a,b,c,d){var f=this;$.ajax({url:host+"/shop/step2check",type:"POST",dataType:"json",data:{rnd:a,itemId:b},success:function(a){a.errorCode==200?c&&c(a):d&&d(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():d&&d("服务器暂时没有相应，请稍后重试...")}})},getAddressParent:function(a,b,c){if(!a)return!1;$.ajax({url:host+"/zone/"+a+"/parents",type:"POST",dataType:"json",success:function(a){a.data.length?b&&b(a):c&&c()},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},address:function(a,b,c){if(!a)return;var d=this;$.ajax({url:host+"/zone/"+a+"/children",type:"POST",dataType:"json",success:function(a){a.data.length?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},getShopInfo:function(a,b,c){var d=this;$.ajax({url:host+"/shop/"+a,type:"POST",dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},updateShop:function(a,b,c){var d=this;$.ajax({url:host+"/shop/update",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},editMobile:function(a,b,c){var d=this;$.ajax({url:host+"/shop/saveMobileAndTel",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},updatePostAge:function(a,b,c){var d=this;$.ajax({url:host+"/shop/updatePostageSet",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveDesc:function(a,b,c){var d=this;$.ajax({url:host+"/fragment/save",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},delDesc:function(a,b,c){var d=this;$.ajax({url:host+"/fragment/delete",type:"POST",data:{id:a},dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},setFragment:function(a,b,c){var d=this;$.ajax({url:host+"/shop/set_fragment",type:"POST",data:{enable:a},dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},setFragmentIdx:function(a,b,c){var d=this;$.ajax({url:host+"/fragment/saveIdx",type:"POST",data:{ids:a},dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},getFragList:function(a,b){var c=this;$.ajax({url:host+"/fragment/list",type:"POST",dataType:"json",success:function(c){c.errorCode==200?a&&a(c):b&&b(c.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():b&&b("服务器暂时没有相应，请稍后重试...")}})},changeEnableDesc:function(a,b,c){var d=this;$.ajax({url:host+"/product/changeEnableDesc",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveProductDesc:function(a,b,c){var d=this;$.ajax({url:host+"/product/saveProductDesc",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveProductFragment:function(a,b,c){var d=this;$.ajax({url:host+"/productFragment/save",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveProduct:function(a,b,c){var d=this;$.ajax({url:host+"/product/save",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},getProductInfo:function(a,b,c){var d=this;$.ajax({url:host+"/product/"+a,type:"POST",dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},getProductList:function(a,b,c,d){var f=this,g="";switch(a){case"onsale":g="/product/list";break;case"draft":g="/product/list",b.order="statusDraft";break;case"delay":g="/product/list/forsalebyPC";break;case"offsale":g="/product/list",b.order="soldout";break;case"search":g="/product/searchbyPc/"+window.shopId+"/"+b.keyword,delete b.keyword;break;default:g="/product/list"}var h={order:"",direction:"",pageable:!0,page:0,size:8};$.extend(h,b),$.ajax({url:host+g,type:"POST",data:h,dataType:"json",success:function(b){b.errorCode==200?(b.type=a,c&&c(b)):d&&d(b.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():d&&d("服务器暂时没有相应，请稍后重试...")}})},batchInstock:function(a,b,c){var d=this,f={ids:a.join(",")};$.ajax({url:host+"/product/batch-instock",type:"POST",data:f,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},batchOnsale:function(a,b,c){var d=this,f={ids:a.join(",")};$.ajax({url:host+"/product/batch-onsale",type:"POST",data:f,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveShopCommission:function(a,b,c){var d=this;$.ajax({url:host+"/shop/saveShopCommission",type:"POST",data:{commisionRate:a},dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},saveThirdCommission:function(a,b,c){var d=this;$.ajax({url:host+"/shop/saveThirdCommission",type:"POST",data:a,dataType:"json",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})},getLogistics:function(a,b){$.ajax({url:host+"/logistics/list",type:"POST",dataType:"json",success:function(c){c.errorCode==200?a&&a(c):b&&b(c.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():b&&b("获取快递公司失败！")}})},getProCateList:function(a,b,c,d,f){var g="",h=b||0;switch(a){case 1:g="/category/product/list",h=-1;break;case 2:g="/category/product/list";break;case 3:g="/shop/category/list";break;default:g="/category/product/list"}var i={page:0,size:8,id:h};$.extend(i,f),$.ajax({url:host+g,type:"POST",dataType:"json",data:i,success:function(a){a.errorCode==200?c&&c(a):d&&d(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():d&&d("获取店铺分类信息失败！")}})},addProCate:function(a,b,c){$.ajax({url:host+"/shop/category/save",type:"POST",data:{name:a},dataType:"JSON",success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("获取店铺分类信息失败！")}})},removeProCate:function(a,b,c){$.ajax({url:host+"/shop/category/batchRemove",type:"POST",dataType:"json",traditional:!0,data:{ids:a},success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("获取店铺分类信息失败！")}})},changeProCate:function(a,b,c,d){$.ajax({url:host+"/category/product/add",type:"POST",dataType:"json",traditional:!0,data:{categoryId:a,productIds:b},success:function(a){a.errorCode==200?c&&c(a):d&&d(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():d&&d("获取店铺分类信息失败！")}})},changeCateName:function(a,b,c,d){$.ajax({url:host+"/shop/category/batchUpdate",type:"POST",dataType:"json",traditional:!0,data:a,success:function(a){a.errorCode==200?b&&b(d):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("修改店铺分类信息失败！")}})},getCategoryList:function(a,b,c){a.id==""&&(a={}),$.ajax({url:host+"/domain/category",type:"GET",dataType:"json",data:a,success:function(a){a.errorCode==200?b&&b(a):c&&c(a.moreInfo)},error:function(a){a.status==401?e.tool.goLogin():c&&c("服务器暂时没有相应，请稍后重试...")}})}},tool:{alert:function(a){var b=$("#J-KD-alert-msg"),c=$("#J-KD-alert"),d=$(".am-dimmer");b.text(a),c.modal({autoClose:!0,closeTime:3e3,onConfirm:function(){this.close()}})},confirm:function(a,b,c){var d=$("#J-KD-confirm-msg"),e=$("#J-KD-confirm");d.text(a),window.confirmFn=b,window.cancelFn=c,e.modal({relatedTarget:this,onConfirm:function(){window.confirmFn&&window.confirmFn($(this.relatedTarget)),this.close()},onCancel:function(){window.cancelFn&&window.cancelFn($(this.relatedTarget)),this.close()}})},getAbsUrl:function(a){var b=new Image;return b.src=a,a=b.src,b.src=null,a},request:function(a){var b=location.href,c=b.substring(b.indexOf("?")+1,b.length).split(/\&|\#/g),d={};for(i=0;j=c[i];i++)d[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);var e=d[a.toLowerCase()];return typeof e=="undefined"?"":e},goLogin:function(a){a?e.tool.alert("退出成功～"):e.tool.alert("由于您长时间没有操作，请重新登录～"),setTimeout(function(){location.href="/sellerpc/pc/login.html"},1e3)},scoreStarShow:function(a){var b={trigger:".mod-score",font:"12px",colorS:"#f9b700",colorE:"#e9e9e9",scoreAll:5,scoreShow:0,eventClk:!0},c=$.extend(b,a),d="";for(var e=0;e<c.scoreAll;e++)e<Math.round(c.scoreShow)?d+='<em class="solid">&#xe620;</em>':d+='<em class="empty">&#xe61f;</em>';$(c.trigger).append(d),c.eventClk&&$(document).on("click",c.trigger+" em",function(){var a=$(this);if(a.next("em").hasClass("solid")||a.prev("em").hasClass("empty"))return!1;a.hasClass("solid")?a.removeClass("solid").addClass("empty").html("&#xe61f;"):a.removeClass("empty").addClass("solid").html("&#xe620;")})},getStringLength:function(b,c,d,e){var f=0,g=0;str_cut=new String,g=b.length;if(c=1){for(var h=0;h<g;h++)a=b.charAt(h),f++,escape(a).length>4&&f++;return f}if(c=2){for(var h=0;h<g;h++){a=b.charAt(h),f++,escape(a).length>4&&f++,str_cut=str_cut.concat(a);if(f>=d)return e&&e.length>0&&(str_cut=str_cut.concat(e)),str_cut}if(f<d)return b}}}};return e}),define("base/product/upload",["jquery","base/utils","doT","upload"],function(a,b,c,d){var e=$(".tpl-desc-img").html(),f=c.template(e);d({id:"J-product-img-add"},function(a){var a=JSON.parse(a);if(a.data&&a.data.length){var b=a.data[0].id,c=a.data[0].url,d=f({imgUrl:c,img:b});$(".product-imgs .desc-pop-imgs-box .desc-pop-add").before(d),$(".product-imgs .desc-pop-imgs-box").find("label.error").remove()}},function(a){b.tool.alert("上传失败,请稍后重试！")})}),define("base/product/setUeditor",["jquery","kindEditor/kindeditor-min"],function(a){KindEditor.ready(function(a){window.editor=a.create("#J-editor",{uploadJson:window.host+"/_f/u_desc",allowFileManager:!1,width:"800px",height:"300px",items:["undo","redo","|","preview","print","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","table","hr","emoticons","anchor"]})})}),define("base/product/elements",["jquery"],function(a){return{proName:$(".product-name"),proDesc:$(".product-info"),proPrice:$(".product-price"),proAmount:$(".product-amount"),proRecomend:$(".proRecomend"),proStatus:$('[name="prudct-status"]'),editSkus:$("#J-eidt-skus"),proPubType:$('[name="prudct-pubType"]'),descShowBox:$(".desc-tabel-show"),callDescList:$("#J-desc-callList"),proImgsWrap:$(".desc-pop-imgs-box"),proDescBox:$(".desc-sort-box"),descList:$("#J-descList-pop"),skuBank:$("#J-skuBank"),skuSelf:$("#J-skuSelf"),addSkuSelf:$("#J-step1-add"),addSkuSelfBox:$(".step1-sku-add-model"),addSkuSelfName:$(".step1-sku-add-name"),addSkuSelfHide:$(".step1-sku-add-model .skuModify-del"),addSkuSelfOk:$(".step1-sku-add-model .skuModify-add"),goStep2:$("#goStep2"),skuBankData:["型号","配置","图案","颜色","含量","规格","尺码","尺寸","材质","形状","工艺","重量","套餐"]}}),define("base/product/combine",[],function(){return function(a){var b=[];return function c(a,d,e){if(e==0)return b.push(a);for(var f=0;f<d[e-1].length;f++)c(a.concat(d[e-1][f]),d,e-1)}([],a,a.length),b}}),define("base/product/getSkuData",["jquery"],function(a){return function(a){var b=[];$.each(a,function(a,c){c.price&&c.price>0&&b.push(c)});if(!b.length)return{price:0,amount:0};b.sort(function(a,b){return Number(a.price)>Number(b.price)});var c=0;return $.each(b,function(a,b){c+=Number(b.amount)}),{price:b[0].price,amount:c}}}),define("base/product/initSkuUI",["jquery","base/product/getSkuData","underscore","doT","base/product/elements"],function(a,b,c,d,e){return function(){var a=$(".tpl-skuUI").html(),c=d.template(a),f=[];$.each(window.skuInfo.mappings,function(a,b){f[a]=f[a]||[],$.each(window.skuInfo.skus,function(b,c){_.indexOf(f[a],c.sku[a])<0&&f[a].push(c.sku[a])})}),$.extend(window.skuInfo,{price:b(window.skuInfo.skus).price,amount:b(window.skuInfo.skus).amount,types:f}),window.skuInfo.mappings&&window.skuInfo.mappings.length&&(e.proPrice.val(window.skuInfo.price),e.proAmount.val(window.skuInfo.amount)),$(".skus-show-box").html(c(window.skuInfo)).show(),$(".skus-show-value").length?$("#defaultPrice").hide():($("#defaultPrice").show(),$(".skus-show-box").empty())}}),define("base/all/checkbox",["jquery","icheck"],function(a,b){$.fn.extend({initCheck:function(){return this.each(function(){$(this).iCheck({checkboxClass:"icheckbox",radioClass:"iradiobox"}),$(".icheck").on("ifChecked",function(){var a=$(this),b=a.attr("name"),c=$('.icheckbox input[name="'+b+'"]').length,d=$('.icheckbox input[name="'+b+'"]:checked').length;c===d&&$("input.checkAll[group="+b+"]").iCheck("check")}).on("ifUnchecked",function(){var a=$(this),b=a.attr("name");$("input.checkAll[group="+b+"]").iCheck("uncheck")})}),$("input.checkAll").on("ifChecked",function(){$("input[name="+$(this).attr("group")+"]").iCheck("check")}).on("ifClicked",function(){$("input[name="+$(this).attr("group")+"]:checked")&&$("input[name="+$(this).attr("group")+"]").iCheck("uncheck")}),this}}),$(".kd-checkbox,.kd-radio").initCheck()}),define("base/product/renderSku",["jquery","base/utils","base/product/elements","doT","base/product/combine","base/product/getSkuData","base/product/initSkuUI","base/all/checkbox"],function(a,b,c,d,e,f,g,h){return function(a){var b=[];$.each(a.skuMappings,function(a,c){window.skuInfo.mappings.push(c.specName),b.unshift(c.mappingValues)}),$.each(e(b),function(a,b){window.skuInfo.skus.push({sku:b,price:0,amount:0})});for(var c=0;c<a.skus.length;c++)for(var d=0;d<window.skuInfo.skus.length;d++){var f=!0;$.each(window.skuInfo.skus[d].sku,function(b,d){d!=a.skus[c]["spec"+(b+1)]&&(f=!1)}),f&&(window.skuInfo.skus[d].price=a.skus[c].price,window.skuInfo.skus[d].amount=a.skus[c].amount)}g()}}),define("address",["jquery","base/utils","amaze"],function(a,b,c){function d(){}return d.prototype.init=function(a,b,c,d,e){var f=this;this.pro=b,this.city=c,this.district=d,this.leave=a;var e=e.province?e:{province:2,city:4};this.renderProvince(function(){e&&e.province&&(f.pro.find('option[value="'+e.province+'"]').attr("selected","selected"),f.pro.trigger("chosen:updated.chosen"),f.changePro())}),e&&e.province&&this.renderCity(e.province,function(){e&&e.city&&(f.city.find('option[value="'+e.city+'"]').attr("selected","selected"),f.city.trigger("chosen:updated.chosen"))}),f.leave==3&&e&&e.city&&this.renderDistrict(e.city,function(){e&&e.district&&(f.district.find('option[value="'+e.district+'"]').attr("selected","selected"),f.district.trigger("chosen:updated.chosen"))}),this.changePro(),f.leave==3&&this.changecity()},d.prototype.renderProvince=function(a){var c=this;b.api.address(1,function(b){c.pro.empty(),$.each(b.data,function(a,b){c.pro.append('<option value="'+b.id+'">'+b.name+"</option>")}),c.pro.find("option:eq(0)").attr("selected",!0),c.pro.trigger("chosen:updated.chosen"),a&&a()})},d.prototype.renderCity=function(a,c){var d=this;b.api.address(a,function(a){d.city.next(".chosen-container").show(),d.city.empty(),$.each(a.data,function(a,b){d.city.append('<option value="'+b.id+'">'+b.name+"</option>")}),d.city.find("option:eq(0)").attr("selected",!0),d.leave==3&&d.renderDistrict(d.city.find("option:eq(0)").attr("value")),d.city.trigger("chosen:updated.chosen"),c&&c()},function(){d.district&&d.district.empty().next(".chosen-container").hide(),d.city.empty().next(".chosen-container").hide(),d.city.trigger("chosen:updated.chosen"),d.leave==3&&d.district.trigger("chosen:updated.chosen")})},d.prototype.renderDistrict=function(a,c){var d=this;b.api.address(a,function(a){d.district.next(".chosen-container").show(),d.district.empty(),$.each(a.data,function(a,b){d.district.append('<option value="'+b.id+'">'+b.name+"</option>")}),d.district.find("option:eq(0)").attr("selected",!0),d.district.trigger("chosen:updated.chosen"),c&&c()},function(){d.district.empty().next(".chosen-container").hide(),d.district.trigger("chosen:updated.chosen")})},d.prototype.changePro=function(){var a=this;a.pro.on("change",function(){var b=a.pro.val();a.renderCity(b)})},d.prototype.changecity=function(){var a=this;a.city.on("change",function(){var b=a.city.val();a.leave==3&&a.renderDistrict(b)})},d}),define("base/product/platform-getCategory",["jquery","base/utils","chosen"],function(a,b,c){function d(){}return d.prototype.init=function(a){var b=this,c=[];a?(c=a.split("|"),c.unshift("")):c=[""];var d=c.length;$.each(c,function(a,e){var f="";a<d-1&&(f=c[a+1]);if(a<d||d==1)$(".platform-category").append("<b></b>"),b.getData(e,f,function(b,c){$(".platform-category").find("b").eq(a).replaceWith(b),$(".platform-select").chosen()})}),this.change()},d.prototype.getData=function(a,c,d){b.api.getCategoryList({id:a},function(a){if(!a.data.length){d&&d("",a);return}var b='<select class="am-fl combox platform-select" data-placeholder="请选择"><option value="">请选择</option>';$.each(a.data,function(a,d){var e="";c&&c==d.id&&(e='selected="selected"'),b+='<option value="'+d.id+'" '+e+">"+d.name+"</option>"}),b+="</select>",d&&d(b,a)})},d.prototype.change=function(){var a=this;$("body").on("change.category",".platform-category select",function(){var b=$(this);$(this).val()&&(b.next(".chosen-container").nextAll("*").remove(),a.getData($(this).val(),null,function(a,c){b.next(".chosen-container").after(a),$(".platform-select").chosen().trigger("chosen:updated.chosen")}))})},d}),define("base/product/render",["jquery","base/utils","base/product/elements","doT","base/product/renderSku","address","base/product/platform-getCategory"],function(a,b,c,d,e,f,g){function r(a){c.proImgsWrap.find(".desc-pop-add").before(a)}function s(a){var b=[];a.imgs&&$.each(a.imgs,function(a,c){b.push({imgUrl:c.imgUrl,img:c.img})});var d={id:a.id,name:a.name,description:a.description,showModel:a.showModel?1:0,imgList:b},e=l(d);c.proDescBox.append(e)}function t(a,b){var c=new Date(a),d=function(a){return(a<10?"0":"")+a};return b.replace(/yyyy|MM|dd|HH|mm|ss/g,function(a){switch(a){case"yyyy":return d(c.getFullYear());case"MM":return d(c.getMonth()+1);case"mm":return d(c.getMinutes());case"dd":return d(c.getDate());case"HH":return d(c.getHours());case"ss":return d(c.getSeconds())}})}function u(a){var b=[];b.push('<option value="0">未分类</option>');var c=a.data.length;for(var d=0;d<c;d++)b.push("<option value="+a.data[d].id+">"+a.data[d].name+"</option>");$(".product-Category").append(b.join("")),o&&$(".product-Category").find('option[value="'+o+'"]').attr("selected","selected"),$(".product-Category").trigger("chosen:updated.chosen")}var h=b.tool.request("id"),i=$(".tpl-desc-img").html(),j=d.template(i),k=$(".tpl-desc").html(),l=d.template(k),m=$(".tpl-skuType").html(),n=d.template(m),o="",p="",q=new g;h?b.api.getProductInfo(h,function(a){var d=a.data;p=d.fullCatId,q.init(p),d.imgs&&$.each(d.imgs,function(a,b){var c=b.img,d=b.imgUrl,e=j({imgUrl:d,img:c});r(e)}),c.proName.val(d.name),c.proDesc.val(d.description),c.proPrice.val(d.price),c.proAmount.val(d.amount);var f="";d.recommend?c.proRecomend.bootstrapSwitch("state",!0):c.proRecomend.bootstrapSwitch("state",!1),c.proStatus.filter('[value="'+d.status+'"]').iCheck("check"),$(".date-picker input").val(t(d.forsaleAt,"yyyy-MM-dd HH:mm:ss")),d.fragments&&$.each(d.fragments,function(a,b){s(b)}),window.skuInfo={mappings:[],skus:[]},e(d),$.each(d.skuMappings,function(a,b){var d=b.specName;if(_.indexOf(c.skuBankData,d)>=0)c.skuBank.find('input[data-val="'+d+'"]').iCheck("check");else{var e={name:d,isSelf:!0};c.skuSelf.append(n(e))}}),c.skuSelf.find("input").attr("checked",!0).initCheck(),d.enableDesc?(c.proPubType.filter(":eq(0)").iCheck("check"),$(".desc-show-box").hide(),$(".ueditBox").show(),d.productDesc&&(window.productDescId=d.productDesc.id,window.editor?editor.html(d.productDesc.description):$("#J-editor").val(d.productDesc.description))):(c.proPubType.filter(":eq(1)").iCheck("check"),$(".desc-show-box").show(),$(".ueditBox").hide()),o=a.data.category?a.data.category.id:null,b.api.getProCateList(3,d.id,u,b.tool.alert)},function(){b.tool.alert("获取商品数据出错!")}):(b.api.getProCateList(3,null,u,b.tool.alert),q.init(p)),$("body").on("click",".product-category-box ul li.addcate-editbox .yesbtn",function(){var a=$(".product-category-box ul li.addcate-editbox input").val();return!a||b.tool.getStringLength(a,1)>16?(b.tool.alert("分类名称最多8个汉字或者16个字母。"),!1):(b.api.addProCate(a,function(b){$(".product-category-box select").append('<option value="'+b.data.id+'"></option>'),$(".product-category-box select option").eq(-1).text(a),$(".product-category-box ul li.addcate-editbox .nobtn").click(),$(".product-category-box ul li.addcate-editbox input").val(""),$(".product-Category").val("").trigger("chosen:updated"),$(".chosen-single").click()},b.tool.alert),!1)}),$("body").on("click",".product-category-box ul li.addcate-editbox .nobtn",function(){$(".product-category-box ul li.addcate").show(),$(".product-category-box ul li.addcate-editbox").hide()}),$("body").on("click",".chosen-single",function(){var a=['<li class="addcate"> +新增 </li>','<li class="addcate-editbox">','<input type="text" value="" />','<button class="yesbtn" type="button">确定</button>','<button class="nobtn" type="button">取消</button>',"</li>"];$(".product-category-box .chosen-container .chosen-drop .chosen-results").append(a.join("")),$(".product-category-box .addcate-editbox").hide()}),$("body").on("click",".product-category-box .addcate",function(){$(".product-category-box .addcate").hide(),$(".product-category-box .addcate-editbox").css("display","list-item");var a=($(".active-result").length+2)*40;$(".chosen-results").scrollTop(a)})}),define("base/product/selectSku",["jquery","base/product/getSkuData"],function(a,b){return $("body").on("click",".skus-show-box .skus-show-value",function(){var a=this,c=[],d=[],e=[];$.each(window.skuInfo.skus,function(a,b){c.push(b),b.amount==0&&e.push(b)}),$(this).toggleClass("active").siblings(".skus-show-value").removeClass("active");var f=[];$(".skus-show-item").each(function(a,b){var c=$(b).find(".active").text();f.push(c)}),$.each(c,function(a,b){var c=!0;for(var e=0;e<f.length;e++)if(f[e]!==""&&f[e]!==b.sku[e]){c=!1;break}c&&d.push(b)});var g=b(d);$(".product-skus-show-price").html(g.price),$(".product-skus-show-amount").html(g.amount)}),null}),define("base/product/renderSkuBank",["jquery","doT","base/product/elements","base/product/renderSku"],function(a,b,c,d){var e=$(".tpl-skuType").html(),f=b.template(e),g=c.skuBankData;$.each(g,function(a,b){c.skuBank.append(f({name:b}))}),c.skuBank.find("input").initCheck()}),define("base/product/addSelfSku",["jquery","base/product/elements","doT","base/utils"],function(a,b,c,d){var e=$(".tpl-skuType").html(),f=c.template(e);b.addSkuSelf.on("click",function(){b.addSkuSelfName.val(""),b.addSkuSelfBox.show()}),b.addSkuSelfHide.on("click",function(){b.addSkuSelfBox.hide()}),b.addSkuSelfOk.on("click",function(){var a=b.addSkuSelfName.val();if($.trim(a)==""){d.tool.alert("名称不能为空！");return}var c={name:a,isSelf:!0},e=$(f(c));e.find("input").initCheck(),b.skuSelf.append(e),b.addSkuSelfName.val("")}),$("body").on("click","#J-skuSelf .skuModify-del",function(){d.tool.confirm.call(this,"确定删除此类型？",function(a){a.parents(".step1-skuItem").remove()})})}),define("base/product/steps",["jquery","doT","underscore","base/utils","base/product/combine","base/product/initSkuUI"],function(a,b,c,d,e,f){function l(a){var b=[];for(var c=0;c<a.length;c++)b.unshift(a[c]);return b}function m(){window.typeList={},$(".step2 .step2-item").each(function(a,b){var c=$(this).attr("data-name");window.typeList[c]=[],$(b).find(".step2-skuType input").each(function(a,b){window.typeList[c].push($(b).val())})})}function n(){$(".step2-skuType input").each(function(){$(this).attr("data-val",$(this).val())})}var g=$(".tpl-step2").html(),h=b.template(g),i=$(".tpl-step2-item").html(),j=b.template(i);$(".step1 .goNext").on("click",function(){if($(".step1-skuList").find("input:checked").length>2){d.tool.alert("所选类型不能超过2个!");return}if($(".step1-skuList").find("input:checked").length==0){d.tool.alert("至少选择一个类型!");return}window.skuInfo||(window.skuInfo={mappings:[],skus:[]}),window.typeList||(window.typeList={},$.each(window.skuInfo.mappings,function(a,b){window.typeList[b]=window.skuInfo.types[a]}));var a=[];$(".step1-skuList").find("input").each(function(b,c){$(c).is(":checked")&&a.push($(c).attr("data-val"))});for(var b in window.typeList)_.indexOf(a,b)<0&&delete window.typeList[b];var c=0,e=a.length,f={keyArr:a,typeList:window.typeList};$("#J-sku-step2").html(h(f)),$(".step1,.step2,.step3").hide(),$(".step2").show(),n()}),$(".step2 .goPrev").on("click",function(){$(".step1,.step2,.step3").hide(),$(".step1").show()}),$("body").on("click",".step2-skuType-delAll",function(){d.tool.confirm.call(this,"确认删除此类型？",function(a){var b=a.parents(".step2-item").attr("data-name");a.parents(".step2-item").remove(),delete window.typeList[b],$('.step1 input[data-val="'+b+'"]').attr("checked",!1).initCheck()})}),$("body").on("click",".step2-skuType-add a",function(){$(this).parents(".step2-item").find(".step2-item-list").append(j({}))}),$("body").on("click",".step2-skuType-del",function(){if($(this).parents(".step2-item").find(".step2-skuType").length<=1){d.tool.alert("再删就不没有了～");return}d.tool.confirm.call(this,"确认删除此类型？",function(a){a.parents(".step2-skuType").remove(),m()})}),$("body").on("change",".step2-skuType input",function(){$(this).attr("data-remVal",$(this).val()),m()}),$(".step2 .goNext").on("click",function(){function f(a){c[a]=[],$(".step2-item-list").eq(a).find("input").each(function(b,d){c[a].push($(d).val())})}var a=!0;$(".step2 input").each(function(){$.trim($(this).val())==""&&(a=!1)});if(!a){d.tool.alert("类型名称不能为空！");return}var c=[];for(var g=0;g<$(".step2-item-list").length;g++)f(g);var h=e(c),i=$(".tpl-table").html(),j=b.template(i);window.skuInfoModify={mappings:[],skus:[]},$.each($(".step2-item"),function(a,b){var c=$.trim($(b).find(".step2-item-key").text());window.skuInfoModify.mappings.unshift(c)}),$.each(h,function(a,b){window.skuInfoModify.skus.push({sku:b,price:0,amount:0})}),window.skuInfo&&$.each(window.skuInfoModify.skus,function(a,b){$.each(window.skuInfo.skus,function(a,c){var d=l(c.sku),e=!0;for(var f=0;f<d.length;f++){var g=$('.step2-skuType input[data-remVal="'+b.sku[f]+'"]').attr("data-val");if(!(b.sku[f]&&d[f]==b.sku[f]||d[f]==g)){e=!1;break}}e&&(b.price=c.price,b.amount=c.amount)}),$.each(window.skuInfo.skus,function(a,c){var d=!0;for(var e=0;e<c.sku.length;e++){var f=$('.step2-skuType input[data-remVal="'+b.sku[e]+'"]').attr("data-val");if(!b.sku[e]||c.sku[e]!=b.sku[e]&&c.sku[e]!=f){d=!1;break}}d&&(b.price=c.price,b.amount=c.amount)})}),$(".step3-table-box").html(j(window.skuInfoModify)),$(".step1,.step2,.step3").hide(),$(".step3").show()}),$(".step3 .goPrev").on("click",function(){$(".step1,.step2,.step3").hide(),$(".step2").show()}),$("body").on("click",".step3 td a",function(){d.tool.confirm.call(this,"确认删除此组合？",function(a){a.parents("tr").remove()})}),$("body").on("blur",'input[data-name="amount"]',function(a){if(!/^[1-9]\d*$/.test($(this).val())){$(a.relatedTarget).hasClass("am-btn-comfirm")||d.tool.alert("库存必须为大于0的正整数"),$(this).val("").focus();return}});var k=/^\-?[0-9]*\.[0-9]*$|^([0-9]+)$/;$("body").on("blur",'input[data-name="price"]',function(a){if(!k.test($(this).val())){$(a.relatedTarget).hasClass("am-btn-comfirm")||d.tool.alert("价格必须为大于0的数字"),$(this).val("").focus();return}if($(this).val()<=0){$(a.relatedTarget).hasClass("am-btn-comfirm")||d.tool.alert("价格必须为大于0的数字"),$(this).val("").focus();return}if($(this).val()>99999e3){$(a.relatedTarget).hasClass("am-btn-comfirm")||d.tool.alert("价格最大为99999000"),$(this).val("").focus();return}}),$("#complete").on("click",function(){var a=!0;if(!$(".step3-table-box tbody tr").length){d.tool.alert("当前没有类型组合！");return}$(".step3-table-box tbody input").each(function(){$.trim($(this).val())==""&&(a=!1)});if(!a){d.tool.alert("输入框不能为空!");return}var b=$(".step3-table-box tbody");for(var c=0;c<window.skuInfoModify.skus.length;c++)window.skuInfoModify.skus[c].amount=0,window.skuInfoModify.skus[c].price=0;for(var e=0;e<b.find("tr").length;e++)for(var c=0;c<window.skuInfoModify.skus.length;c++){var g=!0;$.each(window.skuInfoModify.skus[c].sku,function(a,c){var d=$.trim($(b.find("tr")[e]).find("td div").eq(a).text());c!=d&&(g=!1)}),g&&(window.skuInfoModify.skus[c].amount=$(b.find("tr")[e]).find('[data-name="amount"]').val(),window.skuInfoModify.skus[c].price=$(b.find("tr")[e]).find('[data-name="price"]').val())}window.skuInfo=window.skuInfoModify,f(),$("#J-modifySku-pop").modal("close"),n()})}),define("base/product/editType",["jquery"],function(a){$('[name="prudct-pubType"]').on("ifChanged",function(){$(this).filter(":checked").val()=="pc"?($(".ueditBox").show(),$(".desc-show-box").hide()):($(".ueditBox").hide(),$(".desc-show-box").show())})}),define("base/product/save",["jquery","base/utils","base/product/elements","underscore"],function(a,b,c,d){return function(){var a=[],d={},e=[],f=[],g=[],h=0,i=0,j=[],k=0,l=0,m,n,o=$(".platform-select"),p=o.length,q="",r=!0;n=$(".product-Category").val(),$(".product-category-box").removeClass("chosen-container-active"),$(".product-imgs img").each(function(b,c){a.push($(c).attr("data-img"))}),window.skuInfo&&($.each(window.skuInfo.skus,function(a,b){e[a]={},g[a]={},$.each(b.sku,function(b,c){e[a]["spec"+(b+1)]=c}),g[a].price=b.price,g[a].amount=b.amount}),$.each(window.skuInfo.mappings,function(a,b){f[a]={},f[a].specKey="spec"+(a+1),f[a].specName=b})),$.each(g,function(a,b){b.price&&b.price>0&&b.amount&&b.amount>0&&(j.push(a),d["skus["+h+"].price"]=b.price,d["skus["+h+"].amount"]=b.amount,h++)}),$.each(e,function(a,b){if(_.indexOf(j,a)>=0){for(var c in b)d["skus["+i+"]."+c]=b[c];i++}}),$.each(f,function(a,b){for(var c in b)d["skuMappings["+a+"]."+c]=b[c]}),window.skuInfo&&window.skuInfo.amount!==undefined&&window.skuInfo.amount!==""&&window.skuInfo.amount!==0&&$(".skus-show-item").length?(k=window.skuInfo.price||0,l=window.skuInfo.amount||0):(k=c.proPrice.val(),l=c.proAmount.val());if(l==0){b.tool.alert("商品库存不能为0！");return}var s=$(".date-picker input").val();m=s?(new Date(s.replace(new RegExp("-","gm"),"/"))).getTime():"";var t={imgs:a.join(","),name:c.proName.val(),description:c.proDesc.val(),recommend:c.proRecomend.is(":checked")?1:0,status:c.proStatus.filter(":checked").val(),forsaleDate:m,category:n};for(var u=p-1;u>=0;u--)if(o.eq(u).val()!=""){r=!1;break}if(o.last().val()==""&&!r){b.tool.alert("商品分类请选择叶子节点！");return}q=o.last().val(),q&&$.extend(t,{cat_id:q}),$.extend(t,d),$(".skus-show-value").length||$.extend(t,{"skus[0].price":k,"skus[0].amount":l,"skus[0].spec1":"无"}),b.tool.request("id")&&$.extend(t,{id:b.tool.request("id")}),c.proPubType.filter(":checked").val()=="pc"&&editor.sync(),b.api.saveProduct(t,function(a){var d=a.data.id,e=[];c.proPubType.filter(":checked").val()=="all"?b.api.changeEnableDesc({productId:d,enableDesc:!1},function(){$(".desc-tabel-show tr").each(function(){e.push($(this).attr("data-id"))});var a={fragmentIds:e.join(","),productId:d};b.api.saveProductFragment(a,function(a){b.tool.alert("保存成功!"),$(window).off("beforeunload.pro"),setTimeout(function(){location.href="myproduct?status="+t.status},1e3)},function(){b.tool.alert("保存失败!")})},function(){b.tool.alert("保存失败!")}):b.api.changeEnableDesc({productId:d,enableDesc:!0},function(){var a={productId:d,description:$("#J-editor").val()};window.productDescId&&$.extend(a,{id:window.productDescId}),b.api.saveProductDesc(a,function(){b.tool.alert("保存成功!"),$(window).off("beforeunload.pro"),setTimeout(function(){location.href="myproduct?status="+t.status},1e3)},function(){b.tool.alert("保存失败!")})},function(){b.tool.alert("保存失败!")})},function(a){b.tool.alert(a)})}}),define("base/product/form-check",["jquery","validate","base/product/save","base/utils","base/product/elements"],function(a,b,c,d,e){var f=$("#J-product-form");return $("#J-all-save").on("click",function(){f.submit()}),f.validate({debug:!0,focusInvalid:!0,onkeyup:!1,submitHandler:function(a){if(!$(".product-imgs .desc-pop-imgs-box img").length){d.tool.alert("商品图片不能为空!");return}if(e.proStatus.filter(":checked").val()=="FORSALE"){var b=$(".date-picker input").val();if(b=="")return d.tool.alert("计划发布时间不能为空~"),!1;b=new Date(b);if(b){var f=new Date;if(b.getTime()<=f.getTime())return d.tool.alert("计划发布时间必须大于当前时间~"),!1}}if(window.skuInfo&&window.skuInfo.mappings!==undefined&&window.skuInfo.mappings.length>2){d.tool.alert("所选类型不能超过2个!");return}c()},rules:{"product-name":{required:!0,maxlength:50},"product-info":{required:!0,maxlength:500},"product-price":{required:!0,min:1e-9,max:99999e3},"product-amount":{required:!0,min:0,digits:!0,max:99999999}},messages:{"product-name":{required:"商品名称不能为空",maxlength:"长度不能多于50个字符"},"product-info":{required:"商品描述不能为空",maxlength:"长度不能多于500个字符"},"product-price":{required:"商品价格不能为空",min:"商品价格必须大于0",max:"商品价格不能超过99999000"},"product-amount":{required:"库存数量不能为空",min:"库存数量必须大于0",digits:"库存必须为整数",max:"商品库存不能超过99999999"}}}),null}),define("base/product/delDesc",["jquery","base/utils"],function(a,b,c){$("body").on("click",".desc-del",function(){b.tool.confirm.call(this,"是否确认删除此段落描述?",function(a){var b=a.parents("tr");b.remove()})})}),define("base/product/callFragList",["jquery","base/utils","base/product/elements","doT"],function(a,b,c,d){function i(a){var b=[],d=[];$.each(a.find(".imgsData span"),function(a,c){d.push($(c).attr("data-img")),b.push({imgUrl:$(c).attr("data-imgurl"),img:$(c).attr("data-img")})});var e={id:a.attr("data-id"),name:$.trim(a.find(".desc-name").text()),description:$.trim(a.find(".desc-detail").text()),showModel:a.attr("data-showmodel")=="true"?1:0,imgList:b,imgs:d.join(",")},f=h(e);c.proDescBox.append(f)}var e=$(".tpl-desc-List").html(),f=d.template(e),g=$(".tpl-desc").html(),h=d.template(g);c.callDescList.on("click",function(){b.api.getFragList(function(a){$(".descList-pop .desc-table tbody").html(f(a)),$(".descList-pop .desc-table .kd-checkbox").initCheck(),$(".desc-tabel-show tr").each(function(){var a=$(this).attr("data-id");$(".descList-pop .desc-table tbody").find('tr[data-id="'+a+'"]').find(".kd-checkbox").iCheck("check")}),c.descList.modal({onConfirm:function(){c.proDescBox.empty(),$('.descList-pop [name="fragmentId"]').each(function(){var a=$(this).parents("tr");$(this).is(":checked")&&!$('.desc-tabel-show tr[data-id="'+a.attr("data-id")+'"]').length&&i(a)}),this.close()},onCancel:function(){this.close()}})},function(){b.tool.alert("获取段落数据出错!");return})})}),define("base/set-desc/elements",["jquery"],function(a){var b={pop:$("#J-desc-pop"),popName:$("#J-desc-pop").find(".desc-pop-name"),popDesc:$("#J-desc-pop").find(".desc-pop-info"),popShowModel:$("#J-desc-pop").find('[name="desc-pop-position"]'),popImgBox:$("#J-desc-pop").find(".desc-pop-imgs-box"),popImgAdd:$("#J-desc-pop").find(".desc-pop-add")};return b}),define("base/set-desc/show-pop",["jquery","base/set-desc/elements","base/utils","validate","doT"],function(a,b,c,d,e){var f=$("#J-per-desc"),g=$(".tpl-desc-img").html(),h=e.template(g),i=$(".tpl-desc").html(),j=e.template(i),k={show:function(a){b.pop.find("label.error").remove(),b.popImgBox.find("span").remove(),a?(b.pop.attr("data-target",a.attr("data-id")),b.popName.val($.trim(a.find(".desc-name").text())),b.popDesc.val($.trim(a.find(".desc-detail").text())),a.attr("data-showmodel")=="false"?b.popShowModel.filter(":eq(1)").attr("checked",!0):b.popShowModel.filter(":eq(0)").attr("checked",!0),b.popShowModel.initCheck(),a.find(".imgsData span").each(function(a,c){var d=h({imgUrl:$(c).attr("data-imgurl"),img:$(c).attr("data-img")});b.popImgAdd.before(d)})):(b.pop.attr("data-target",""),b.popName.val(""),b.popDesc.val(""),b.popShowModel.filter(":eq(0)").attr("checked",!0),b.popShowModel.initCheck()),b.pop.modal({onConfirm:function(){k.modal=this,f.submit()},onCancel:function(){this.close()}})},save:function(a){var d=b.popImgBox.find("span img"),e=[],f=[],g;$.each(d,function(a,b){e.push($(b).attr("data-img")),f.push({imgUrl:$(b).attr("src"),img:$(b).attr("data-img")})});var h={name:b.popName.val(),description:b.popDesc.val(),showModel:b.popShowModel.eq(0).is(":checked")?1:0,imgs:e.join(",")};b.pop.attr("data-target")&&(g=$('.desc-sort-box tr[data-id="'+b.pop.attr("data-target")+'"]'),$.extend(h,{id:g.attr("data-id")})),c.api.saveDesc(h,function(a){$.extend(h,{id:a.data.id,imgList:f});var b=j(h);g?g.replaceWith($(b)):$(".desc-sort-box").append(b),k.modal.close(),c.tool.alert("保存成功!")},function(){c.tool.alert("保存失败！请稍后再试!")})}};return f.validate({debug:!1,focusInvalid:!0,onkeyup:!1,submitHandler:function(a){b.popImgBox.find(".desc-pop-img").length?k.save(k.tr):(b.popImgBox.find("label.error").remove(),b.popImgBox.append('<label class="error">段落图片不能为空</label>'))},rules:{"desc-pop-name":{required:!0,maxlength:30}},messages:{"desc-pop-name":{required:"段落名称不能为空",maxlength:"段落名称不能超过30个字符"}}}),k}),define("base/set-desc/add",["jquery","base/set-desc/show-pop"],function(a,b){$("#J-desc-add").on("click",function(){b.show()})}),define("base/set-desc/upload",["jquery","base/utils","base/set-desc/elements","doT","upload"],function(a,b,c,d,e){var f=$(".tpl-desc-img").html(),g=d.template(f);e({id:"J-desc-pop-add"},function(a){var a=JSON.parse(a);if(a.data&&a.data.length){var b=a.data[0].id,d=a.data[0].url,e=g({imgUrl:d,img:b});c.popImgAdd.before(e),c.popImgBox.find("label.error").remove()}},function(a){b.tool.alert("上传失败,请稍后重试！")})}),define("base/set-desc/img-del",["jquery","base/utils","base/set-desc/elements"],function(a,b,c){$("body").on("click",".desc-pop-img-del",function(){b.tool.confirm.call(this,"是否确认删除这张图片?",function(a){a.parents(".desc-pop-img").remove()})})}),define("base/set-desc/modify",["jquery","base/utils","base/set-desc/show-pop"],function(a,b,c){$("body").on("click",".desc-modify",function(){c.show($(this).parents("tr"))})}),define("base/all/close-tip",["jquery","base/utils"],function(){return $(window).on("beforeunload.pro",function(){return"是否确定离开此页面？"}),null}),require(["my97datepicker"]),require(["base/product/upload"]),require(["jquery"],function(){$('[name="prudct-status"]').on("ifChanged",function(){$(this).filter(":checked").val()=="FORSALE"?$(".date-picker").removeClass("hidden"):$(".date-picker").addClass("hidden")})}),require(["base/product/setUeditor"]),require(["base/product/render"]),require(["base/product/selectSku"]),require(["base/product/renderSkuBank"]),require(["base/product/addSelfSku"]),require(["jquery","base/product/elements","amaze"],function(a,b,c){b.editSkus.on("click",function(){$("#J-modifySku-pop").modal()})}),require(["jquery","amaze"],function(){$(".modifySku-pop .am-btn-comfirm-no").on("click",function(){$("#J-modifySku-pop").modal("close")})}),require(["base/product/steps"]),require(["base/product/editType"]),require(["base/product/form-check"]),require(["base/product/delDesc"]),require(["base/product/callFragList"]),require(["jquery","sortRow"],function(a,b){b($(".desc-table"))}),require(["base/set-desc/add"]),require(["base/set-desc/upload"]),require(["base/set-desc/img-del"]),require(["base/set-desc/modify"]),require(["base/all/close-tip"]),define("base/product",function(){})